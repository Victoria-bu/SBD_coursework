<!DOCTYPE html>
<html>
<head><title>Registration</title></head>
<body>
  <h2>Registration</h2>
  <form method="post">
    <h3>Login information:</h3>
    <input type="text" name="username" placeholder="Username" required><br>
    <input type="password" name="password" placeholder="Password" required><br>
    
    <h3>Your tenant information:</h3>
    <input type="text" name="full_name" placeholder="Full Name (as in the database)" required><br>
    <small>Enter exactly as recorded in the system</small><br><br>
    
    <!-- Тільки адміни можуть вибирати роль -->
    {% if current_user.is_authenticated and current_user.role == 'admin' %}
    <select name="role">
      <option value="user">User</option>
      <option value="admin">Administrator</option>
    </select><br>
    {% else %}
    <input type="hidden" name="role" value="user">
    {% endif %}
    
    <button type="submit">Register</button>
  </form>
  <p>Already have an account? <a href="{{ url_for('auth.login') }}">Login</a></p>
  {% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul>
    {% for msg in messages %}
      <li>{{ msg }}</li>
    {% endfor %}
    </ul>
  {% endif %}
  {% endwith %}
</body>
</html>
