<!DOCTYPE html> 
<html>
<head><title>Reports</title></head>
<body>
  <h2>Generate Reports by Streets</h2>
  
  <div>
    <a href="{{ url_for('tenants.tenants_list') }}">ğŸ“‹ Tenants</a> |
    {# <a href="{{ url_for('reports') }}">ğŸ“Š Reports</a> | #}
    {% if current_user.role == 'admin' %}
    <a href="{{ url_for('tenants.add_tenant') }}">â• Add Tenant</a> |
    <a href="{{ url_for('addresses.add_address') }}">ğŸ  Add Address</a>|
    {% endif %}
    <a href="{{ url_for('auth.logout') }}">ğŸšª Logout ({{ current_user.username }})</a>
  </div>

  <form method="get">
    Select Street:
    <select name="street_id">
      <option value="">--Select a street--</option>
      {% for street in streets %}
        <option value="{{ street.id }}" {% if street.id == selected %}selected{% endif %}>{{ street.name }}</option>
      {% endfor %}
    </select>
    <button type="submit">Show</button>
  </form>

  {% if apartments %}
    <h3>Apartments on {{ apartments[0].building.street.name }}</h3>
    <table border="1">
      <tr>
        <th>Building</th>
        <th>Apartment</th>
        <th>Area</th>
        <th>Rooms</th>
        <th>Ownership Type</th>
      </tr>
      {% for apt in apartments %}
      <tr>
        <td>{{ apt.building.number }}</td>
        <td>{{ apt.number }}</td>
        <td>{{ apt.area }} mÂ²</td>
        <td>{{ apt.rooms or '-' }}</td>
        <td>{{ apt.ownership_type }}</td>
      </tr>
      {% endfor %}
    </table>
  {% endif %}
</body>
</html>
